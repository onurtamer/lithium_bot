{$DOMAIN_NAME} {
    # Let's Encrypt Rate Limit is expired, we can use standard HTTPS now.
    # No strict email requirement to avoid crashes.

    # API Routes (Strip /api prefix)
    handle_path /api/* {
        reverse_proxy api:8000
    }

    # API Documentation (Swagger UI) - Keep path
    handle /docs* {
        reverse_proxy api:8000
    }
    
    # OpenAPI JSON - Keep path
    handle /openapi.json {
        reverse_proxy api:8000
    }

    # Frontend (Next.js)
    handle {
        reverse_proxy web:3000
    }
}
